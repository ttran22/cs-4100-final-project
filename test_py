import pandas as pd
import numpy as np
import os
import cv2
import seaborn as sns
import matplotlib
import os

import mediapipe as mp # this is for landmarker stuff
from mediapipe.tasks import python
from mediapipe.tasks.python import vision

from utils import convert_rgb
# from ultralytics import YOLO

# face mesh
mp_face_mesh = mp.solutions.face_mesh
face_mesh = mp_face_mesh.FaceMesh(
    static_image_mode=True,
    min_detection_confidence=0.1 # lowered threshold to dtect face
)

# image
image = cv2.imread("dataset/images/train/fear/5.jpg")
height, width, _ = image.shape
print(height, width)
resized_image = cv2.resize(image, (512, 512))
new_image = cv2.cvtColor(resized_image, cv2.COLOR_BGR2RGB)


# facial landmarks
result = face_mesh.process(resized_image)

for facial_landmarks in result.multi_face_landmarks:
    pt1 = facial_landmarks.landmark[1] # give sus different points of the face
    x = int(pt1.x * width)
    y = int(pt1.y * height)

    cv2.circle(image, (x,y), 10, (100, 100, 0), -1) # image, x,y, radius, color, fill circle with color
    print(f"point: {pt1}, x={x}, y={y}")

cv2.imshow("da image", resized_image)
cv2.waitKey(0)
